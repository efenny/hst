"use strict";var firstLoad=function(){"true"!==localStorage.getItem("visited")?(document.querySelector("body").classList.add("first-visit"),localStorage.setItem("visited","true")):document.querySelector("body").classList.add("visited")},wordSpanWrapper=function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,i=e.split(" ")[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t.push('<span data-word="'.concat(s,'">').concat(s,"</span>"))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t.join(" ")},letterSpanWrapper=function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var o,i=e.split("")[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t.push('<span data-letter="'.concat(s,'">').concat(s,"</span>"))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t.join("")},splashOpening=function(){animateLetters(".character-slide")},aboutPage=function(){animateLetters(".text-wrapper p")};function animateLetters(e){var t=document.querySelectorAll(e),n=!0,r=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;s.innerHTML=wordSpanWrapper(s.innerHTML)}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}}function beforeAfter(){jQuery(window).width()<1024?jQuery(".item-wrapper").each(function(){jQuery(this).imagesCompare({interactionMode:"drag",addDragHandle:!1})}):jQuery(".item-wrapper").each(function(){jQuery(this).imagesCompare({interactionMode:"mousemove",addDragHandle:!1})})}var mobileMenuFunctionality=function(){var e=document.getElementsByClassName("mobile-button")[0],t=document.getElementsByClassName("mobile-menu")[0];e.addEventListener("click",function(){document.getElementsByTagName("body")[0].classList.toggle("mobile-active"),e.classList.toggle("active"),t.classList.toggle("active")}),jQuery(".mobile-menu li a").click(function(){jQuery("body").removeClass("mobile-active")})},textFollow=function(){var o=jQuery(window);function e(){if(1024<o.width()){var e=new ScrollMagic.Controller,t=document.querySelector(".row.website img"),n=document.querySelector(".row.website .text-wrapper").clientHeight,r=t.height,a=new ScrollMagic.Scene({triggerElement:".row.website .row-inner .text-wrapper",duration:r-n,offset:n/2}).setPin(".row.website .row-inner .text-wrapper");e.addScene(a)}}e(),jQuery(window).resize(e)},highRez=function(){if(1<window.devicePixelRatio){var e=document.querySelectorAll("[data-retina]"),t=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value,s=jQuery(i).find("img").attr("src"),c=s.slice(0,s.length-4)+"_retina_5k"+s.slice(s.length-4);jQuery(i).find("img").attr("src",c)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},scrollingMenu=function(){var t=0;jQuery(window).scroll(function(){var e=jQuery(this).scrollTop();t<e?jQuery("header").removeClass("active"):(e<t||100<e)&&jQuery("header").addClass("active"),t=e,jQuery(document).scrollTop()<100&&jQuery("header").addClass("active")})},homeMasonry=function(){var e=jQuery(".design .row-inner");e.imagesLoaded(function(){});jQuery(e).isotope({itemSelector:".case-study",percentPosition:!0,ayoutMode:"masonry",masonry:{columnWidth:".blue-ocean"}}),jQuery(e).isotope("reloadItems")},retouchedMasonry=function(){jQuery(".retouching .row-inner").isotope({itemSelector:".retouched",transitionDuration:0,masonry:{columnWidth:".sizer"}})};function Ready(){mobileMenuFunctionality(),scrollingMenu(),document.getElementsByClassName("content")[0].className.match("page-id-10")&&beforeAfter(),(document.getElementsByClassName("content")[0].className.match("postid-41")||document.getElementsByClassName("content")[0].className.match("postid-73"))&&textFollow(),document.getElementsByClassName("content")[0].className.match("page-id-8")&&retouchedMasonry(),document.getElementsByClassName("content")[0].className.match("home")&&homeMasonry()}function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("Edge/");if(0<t)console.log(parseInt(e.substring(t+5,e.indexOf(".",t)),10)),jQuery("#main").css("opacity","1"),jQuery("[data-aos]").css("opacity","1"),jQuery("[data-aos]").css("transform","translateY(0)");else if(0<n){var a=e.indexOf("rv:");console.log(parseInt(e.substring(a+3,e.indexOf(".",a)),10)),jQuery("#main").css("opacity","1"),jQuery("[data-aos]").css("opacity","1"),jQuery("[data-aos]").css("transform","translateY(0)")}else 0<r?(console.log(parseInt(e.substring(r+5,e.indexOf(".",r)),10)),jQuery("#main").css("opacity","1"),jQuery("[data-aos]").css("opacity","1"),jQuery("[data-aos]").css("transform","translateY(0)")):(firstLoad(),splashOpening(),AOS.init({duration:650,anchorPlacement:"center-top",once:!0}),highRez())}window.onload=function(){Ready(),detectIE()};